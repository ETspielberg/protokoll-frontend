{"version":3,"sources":["webpack:///./src/app/bibliography/bibliography.component.html","webpack:///./src/app/bibliography/bibliography.component.ts","webpack:///./src/app/bibliography/bibliography.module.ts","webpack:///./src/app/bibliography/bibliography.routing.ts"],"names":[],"mappings":"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","file":"bibliography-bibliography-module.js","sourcesContent":["module.exports = \"<h2>{{'title.bibliography' | translate}}</h2>\\r\\n<div>\\r\\n  <p-virtualScroller [value]=\\\"getterService.primoData | keyvalue\\\" scrollHeight=\\\"70vH\\\" >\\r\\n    <ng-template let-primo pTemplate=\\\"item\\\">\\r\\n      <div class=\\\"ui-g primo-item\\\">\\r\\n        <div class=\\\"ui-g-2 ui-md-2 primo-identifier\\\">\\r\\n          <span>{{getIdentifiers(primo.value)}}</span>\\r\\n        </div>\\r\\n        <div class=\\\"ui-g-1 ui-md-1\\\">\\r\\n          <img src=\\\"{{primo.value.linkThumbnail}}\\\">\\r\\n        </div>\\r\\n        <div class=\\\"ui-g-7 ui-md-7\\\">\\r\\n          <div class=\\\"ui-g\\\">\\r\\n            <div class=\\\"ui-g-12 ui-sm-6\\\">\\r\\n              <div>\\r\\n                <span class=\\\"primo-type\\\">{{primo.value.type | translate}}</span>\\r\\n              </div>\\r\\n              <div class=\\\"primo-link\\\">\\r\\n                <span class=\\\"primo-title primo-link\\\"><a target=\\\"_blank\\\" href=\\\"{{primo.value.link}}\\\">{{primo.value.title}}</a></span>\\r\\n              </div>\\r\\n              <div>\\r\\n                <span class=\\\"primo-authors\\\">{{primo.value.authors}}</span>\\r\\n              </div>\\r\\n              <div>\\r\\n                <span class=\\\"primo-add-infos\\\">{{primo.value.edition}}. Auflage; {{primo.value.year}}</span>\\r\\n              </div>\\r\\n              <div *ngIf=\\\"''!==primo.value.isbn\\\">\\r\\n                ISBN: {{primo.value.isbn}}\\r\\n              </div>\\r\\n              <div *ngIf=\\\"''!==primo.value.fulltextLink\\\">\\r\\n                <span class=\\\"primo-add-infos\\\"><a target=\\\"_blank\\\" href=\\\"{{primo.value.fulltextLink}}\\\">Link zum Volltext</a></span>\\r\\n              </div>\\r\\n              <div>\\r\\n                <span class=\\\"primo-add-infos\\\">{{getIdentifiers(primo.key)}}</span>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"ui-g-2 ui-md-2\\\">\\r\\n          <span *ngIf=\\\"authenticationService.principal\\\"><button pButton type=\\\"button\\\" class=\\\"ui-button-rounded ui-button-success\\\" label=\\\"Auflage nachbestellen\\\" icon=\\\"pi pi-plus\\\" (click)=\\\"showElisaInput(primo.value, getIdentifiers(primo.value))\\\"></button></span>\\r\\n        </div>\\r\\n      </div>\\r\\n    </ng-template>\\r\\n  </p-virtualScroller>\\r\\n</div>\\r\\n\"","import {Component} from '@angular/core';\r\nimport {GetterService} from '../service/getter.service';\r\nimport {PrimoData} from '../model/PrimoData';\r\nimport {AuthenticationService} from '../service/authentication.service';\r\nimport {ElisaService} from '../service/elisa.service';\r\nimport {FilterService} from '../service/filter.service';\r\n\r\n@Component({\r\n  selector: 'app-bibliography',\r\n  templateUrl: 'bibliography.component.html'\r\n})\r\nexport class BibliographyComponent {\r\n\r\n  constructor(public getterService: GetterService,\r\n              public elisaService: ElisaService,\r\n              public filterService: FilterService,\r\n              public authenticationService: AuthenticationService) {}\r\n\r\n  getIdentifiers(primoDatum: PrimoData): string {\r\n    if (primoDatum.type === 'Online Resource') {\r\n      return primoDatum.isbn;\r\n    } else if (primoDatum.type === 'Physical Item') {\r\n      const shelfmarkSet = new Set<string>();\r\n      const shelfmarks = primoDatum.shelfmarks;\r\n      for (let shelfmark of shelfmarks.split(';')) {\r\n        shelfmark = shelfmark.split(' ')[1];\r\n        if (!shelfmarkSet.has(shelfmark)) {\r\n          shelfmarkSet.add(shelfmark);\r\n        }\r\n      }\r\n      let shelfmarkString = '';\r\n      shelfmarkSet.forEach(\r\n        value => shelfmarkString = shelfmarkString + value + '; '\r\n      );\r\n      return shelfmarkString.substring(0, shelfmarkString.length - 2);\r\n    } else {\r\n      return primoDatum.recordId;\r\n    }\r\n  }\r\n\r\n  showElisaInput(primoValue: PrimoData, shortShelfmarks: string) {\r\n    this.elisaService.createElisaRequest(primoValue.isbn, shortShelfmarks);\r\n    this.filterService.show['elisa'] = true;\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {BibliographyComponent} from './bibliography.component';\r\nimport {bibliographyRouting} from './bibliography.routing';\r\nimport {TranslateModule} from '../translate/translate.module';\r\nimport {VirtualScrollerModule} from 'primeng/virtualscroller';\r\nimport {ButtonModule} from 'primeng/button';\r\n\r\n@NgModule({\r\n  imports: [CommonModule,\r\n    TranslateModule,\r\n    VirtualScrollerModule,\r\n    ButtonModule,\r\n  bibliographyRouting],\r\n  declarations: [BibliographyComponent],\r\n  exports: [BibliographyComponent],\r\n  providers: []\r\n})\r\nexport class BibliographyModule {\r\n\r\n}\r\n","import {RouterModule, Routes} from '@angular/router';\r\nimport {ModuleWithProviders} from '@angular/core';\r\nimport {BibliographyComponent} from './bibliography.component';\r\n\r\nconst routes: Routes = [\r\n  {path: '', component: BibliographyComponent}\r\n  ];\r\nexport const bibliographyRouting: ModuleWithProviders = RouterModule.forChild(routes);\r\n"],"sourceRoot":""}